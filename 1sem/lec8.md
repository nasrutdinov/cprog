## Лекция 8.  Строки 

**Строки в стиле в C**

Строка — последовательность символов. Для работы с символами в языке C++ предусмотрен 
тип данных char. Если в выражении встречается одиночный символ, 
он должен быть заключён в одинарные кавычки. При использовании в выражениях строка 
заключается в двойные кавычки. 

Признаком конца строки является нулевой символ "\0". 
В C++ строки можно описать с помощью массива символов (массив элементов типа char), 
в массиве следует предусмотреть место для хранения признака конца строки ("\0").

Например,

```C++
char s [25]; //Описана строка из 25 символов.
char s [15]= "Привет"; //Описана строка из 15 символов и ей присвоено значение.
//Определён массив из 3 строк по 30 байт в каждой.
char m[3][30] = {"Пример ", "использования", " строк"};
```

Для работы со строками можно использовать указатели (char * ). Адрес первого символа будет начальным значением указателя.

Рассмотрим пример объявления и ввода строк.

#include <iostream>
using namespace std;
int main ( )
{
char s2 [ 2 5 ], *s3, s4 [ 30 ]; //Описываем 3 строки, s3 — указатель.
cout<<"Введите строку:"<<endl;
cout<<" s2 = "; cin>>s2; //Ввод строки s2.
cout<<"Была введена строка:"<<endl;
cout<<" s2 = "<<s2<<endl;
s3=s4; //Запись в s3 адреса строки s4. Теперь в указателях s3 и s4 хранится один адрес.
cout<<"Введите строку:"<<endl;
cout<<" s3 = "; cin>>s 3; //Ввод строки s3.
cout<<"Была введена строка:"<<endl;
cout<<" s3 = "<<s3<<endl; //Вывод на экран s3 и s4,
cout<<"Сформирована новая строка:"<<endl;
cout<<" s4 = "<<s4<<endl; //s3 и s4 — одно и тоже.
return 0;
}

Если запустить эту программу на выполнение, то в консольном окне приложения будет получен следующий результат.

Введите строку:
s2=Привет!
Была введена строка:
s2=Привет!
Введите строку:
s3=Программируем?
Была введена строка:
s3=Программируем?
Сформирована новая строка:
s4=Программируем?

Однако если во вводимых строках появятся пробелы, программа будет работать не так, как ожидает пользователь:

Введите строку:
s2=Привет, Вася!
Была введена строка:
s2=Привет,
Введите строку:
s3=Была введена строка:
s3=Вася!
Сформирована новая строка:
s4=Вася!

Дело в том, что функция cin вводит строки до встретившегося пробела. Более универсальной функцией является функция

cin.getline(char *s, int n);

она предназначена для ввода с клавиатуры строки s с пробелами, причём в строке не должно быть более n символов. Например,

char s [ 25 ];
cout<<"Введите строку:"<<endl;
cout<<" s2 = "; cin.getline ( s, 25 );
cout<<"Была введена строка:"<<endl;
cout<<" s2 = "<<s2<<endl;

Результат:

Введите строку:
s2=Привет, Вася!
Была введена строка:
s2=Привет, Вася!




```C++
//...
    std::cout << "input size of array:  \n"; 

    int size;
    std::cin >> size;
// Выделяем память под массив из size элементов
// Теперь в b храниться адрес нулевого элемента массива
    int *b = new int[size]); 
	
// Для массивов доступ к элементам записывается в 'обычном' виде
   for (int k=0;k<size;++k){
        b[k]=k;
    }
//... 
```

Доступ к элементам, находящимся по адресу в указателе, осуществляется через 
операцию разыменования *
```C++
...
// Объявляем указатель
    int *x; 
// Выделяем память 
    x=new int; 
	
// Записываем в эту память значение, используя операцию разыменования * 
    *x = 5; 
... 
```

**Структура** -- это объединение нескольких объектов, возможно, различного типа под одним 
именем. В качестве объектов могут выступать переменные, массивы, указатели и другие структуры. 
Структура представляет собой сложный тип данных, составленный из простых типов. После 
закрывающей фигурной скобки } в объявлении структуры обязательно ставится точка с запятой. 


```C++
// Пример объявления структуры
#include <iostream>
#include <string>

// Объявляем новый тип данных 
struct date{
	int day;     
	std::string month;
	int year;    
}; 

int main(){  
    date x;

// Доступ к элементам структуры осуществляется через точку
    std::cin >> x.day >> x.month >> x.year;

```

## Односвязные списки

https://prog-cpp.ru/data-ols/?ysclid=ln9z9r4gub897690139

https://www.bestprog.net/ru/2022/02/11/c-linear-singly-linked-list-general-information-ru/ 

Динамический список представляет из себя некоторое количество 
компонентов (узлов), содержащих данные, а также ссылку на следующий компонент 

```C++
// Пример создания списка 
#include <iostream>
#include <string>

using namespace std;

struct node {
	int value;   // Данные
	node* next;  // Ссылка на следующий элемент списка
};


int main()
{
	node* head;
	node *tail, *curr;

	head = new node; 
	// (*head).value = -1;
	head->value = -1;
	head->next = NULL;

	tail = head;
// Добавление элементов к списку 
	for (int k = 0; k < 5; k++) {
		curr = new node;
		curr->value = k;
		curr->next = NULL;
		tail->next = curr;
		tail = curr;
	}

// Прохождение по списку
	curr = head;
	while (curr) {
		cout << curr->value << "\n";
		curr = curr->next;
	}
	
	return 0;
}
```

**Операции удаления и вставки элементов в список**

Вставка после элемента curr.  

```C++ 
// Создать элемент. Заполнить поле данных элемента
	node *elem=new node; 
	elem->value = 3; 
	
// Определить позицию элемента, который следует перед позицией вставки элемента. 
... 

// Получить указатель curr на эту позицию. 

	elem->next = curr->next;
	curr->next = elem;

```

Удаление элемента из списка в заданной позиции curr (не первой) 


```C++ 

// Определить позицию элемента, за который следует удалить элемент 
... 

// Получить указатель curr на эту позицию. 
	node *elem = curr->next; 
	curr->next = elem->next;
	
	delete elem;

```
